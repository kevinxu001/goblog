{{template "header"}}
	<title>分类 - 我的 beego 博客</title>
</head>
<body>
	{{template "navbar" .}}

	<div class="container">
		<h1>分类列表</h1>
		<form method="get" action="/category" role="form">
		<div class="form-group">
			<label>分类名称</label>
			<input id="cname" name="cname" class="form-control" placeholder="请输入分类名称"></div>
		<input type="hidden" name="op" value="add">
		<button type="submit" class="btn btn-default" onclick="return checkInput();">添加</button>
	</form>

	<table class="table table-striped">
		<thead>
			<tr>
				<th>#</th>
				<th>名称</th>
				<th>文章数</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			{{range .Categories}}
			<tr>
				<td>{{.Id}}</td>
				<td>{{.Title}}</td>
				<td>{{.TopicCount}}</td>
				<td><a href="/category?op=del&id={{.Id}}">删除</a></td>
			</tr>
			{{end}}
		</tbody>
	</table>
	</div>
<script type="text/javascript">
function checkInput(){
	var cname=document.getElementById("cname");
	if (cname.value.length==0){
		alert("请输入分类名称");
		return false;
	}

	return true;
}
</script>

{{template "footer"}}